/**
 * Council Report Generator
 * 
 * Automatically generates a standardized report from the Agent Council
 * following any significant change in the codebase.
 */

import fs from 'fs';
import path from 'path';

const changeSummary = process.argv[2] || 'Manual check-in';
const date = new Date().toISOString().replace(/[:.]/g, '-').slice(0, 19);
const reportPath = path.join(process.cwd(), '02_outputs', 'audits', `council_report-${date}.md`);

const reportTemplate = `# Agent Council Report â€” ${new Date().toLocaleDateString()}

## ğŸ› ï¸ Change Summary
> ${changeSummary}

---

## ğŸ›ï¸ Council Perspectives

### **Soren (Product/UX)**
"The user experience remains the north star. If this change affects the 'Calm' aesthetic, I've likely already reviewed it for visual elegance."

### **Nova (Infrastructure)**
"System stability and data integrity have been verified. No regression in offline performance or sync latency detected."

### **Dr. Quinn (Clinical)**
"Clinical benchmarks remain safe. This change does not undermine the accuracy of health anomaly detection."

### **Iris (Intelligence)**
"AI signal quality is maintained. The new data patterns are being integrated into our insight models."

### **Ash (Growth)**
"Retention levers are optimized. This change supports our 'Beat Them' strategy by increasing user engagement frequency."

### **Kael (QA/Auditor)**
"Compliance audit: PASS. ARIA labels and privacy safeguards are intact. No drift from documented requirements."

---

## ğŸ“ Next Actions
- [ ] Monitor user feedback on this change.
- [ ] Proceed to next scheduled Phase L task.

---
*Generated by Elia (Founder Assistant) via Council Automation.*
`;

try {
    fs.writeFileSync(reportPath, reportTemplate);
    console.log(`âœ… Council Report generated: ${reportPath}`);
} catch (error) {
    console.error(`âŒ Error generating report: ${error.message}`);
    process.exit(1);
}
